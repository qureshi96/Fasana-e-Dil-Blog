{"ast":null,"code":"import _asyncToGenerator from \"/Users/usman/Documents/GitHub/Fasana-e-Dil-Blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from 'firebase/auth';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/database\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nexport class BlogListService {\n  constructor(db, afAuth) {\n    this.db = db;\n    this.afAuth = afAuth;\n    this.blogsList = [];\n    this.db.list('/BlogsList').valueChanges().subscribe(data => {\n      this.obj = data;\n    });\n  }\n\n  GetBlogList() {\n    this.blogsList = this.obj;\n    return this.blogsList;\n  }\n\n  GetBlogPost(index) {\n    this.blogsList = this.obj;\n    return this.blogsList[index];\n  } // async googleSignIn() {\n  //   const provider = new firebase.auth.GoogleAuthProvider();\n  //   try {\n  //     const result = await this.afAuth.signInWithPopup(provider);\n  //     return result;\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // }\n\n\n  googleSignIn() {\n    return _asyncToGenerator(function* () {\n      const provider = new GoogleAuthProvider();\n\n      try {\n        const result = yield signInWithPopup(getAuth(), provider); // Use result.user here\n\n        return result;\n      } catch (error) {\n        console.error(error); // Handle errors here\n      }\n    })();\n  }\n\n}\n\nBlogListService.ɵfac = function BlogListService_Factory(t) {\n  return new (t || BlogListService)(i0.ɵɵinject(i1.AngularFireDatabase), i0.ɵɵinject(i2.AngularFireAuth));\n};\n\nBlogListService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BlogListService,\n  factory: BlogListService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAMA,SAASA,mBAAT,QAAwE,+BAAxE;AAIA,SAASC,OAAT,EAAkBC,eAAlB,EAAmCC,kBAAnC,QAA6D,eAA7D;;;;AAOA,OAAM,MAAOC,eAAP,CAAsB;EAK1BC,YAAoBC,EAApB,EAAoDC,MAApD,EAA2E;IAAvD;IAAgC;IAHpD,iBAA6B,EAA7B;IAKE,KAAKD,EAAL,CAAQE,IAAR,CAA4B,YAA5B,EAA0CC,YAA1C,GAAyDC,SAAzD,CAAmEC,IAAI,IAAE;MACvE,KAAKC,GAAL,GAASD,IAAT;IACD,CAFD;EAKD;;EAIDE,WAAW;IAET,KAAKC,SAAL,GAAe,KAAKF,GAApB;IACA,OAAO,KAAKE,SAAZ;EAED;;EACDC,WAAW,CAACC,KAAD,EAAM;IACf,KAAKF,SAAL,GAAe,KAAKF,GAApB;IACA,OAAO,KAAKE,SAAL,CAAeE,KAAf,CAAP;EACD,CAzByB,CA0B1B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;EACMC,YAAY;IAAA;MAChB,MAAMC,QAAQ,GAAG,IAAIf,kBAAJ,EAAjB;;MACA,IAAI;QACF,MAAMgB,MAAM,SAASjB,eAAe,CAACD,OAAO,EAAR,EAAYiB,QAAZ,CAApC,CADE,CAEF;;QACA,OAAOC,MAAP;MACD,CAJD,CAIE,OAAOC,KAAP,EAAc;QACdC,OAAO,CAACD,KAAR,CAAcA,KAAd,EADc,CAEd;MACD;IATe;EAUjB;;AA7CyB;;;mBAAfhB,iBAAekB;AAAA;;;SAAflB;EAAemB,SAAfnB,eAAe;EAAAoB,YAFd","names":["AngularFireDatabase","getAuth","signInWithPopup","GoogleAuthProvider","BlogListService","constructor","db","afAuth","list","valueChanges","subscribe","data","obj","GetBlogList","blogsList","GetBlogPost","index","googleSignIn","provider","result","error","console","i0","factory","providedIn"],"sourceRoot":"","sources":["/Users/usman/Documents/GitHub/Fasana-e-Dil-Blog/src/app/blog-list.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BlogPostModel } from './data/blogPostModel';\n\nimport { environment } from 'src/environments/environment';\n\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from '@angular/fire/compat/database';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\nimport  firebase  from 'firebase/app';\nimport { AngularFireModule } from '@angular/fire/compat'; // Assuming you're using AngularFireModule\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from 'firebase/auth';\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BlogListService {\n \n  blogsList : BlogPostModel[]= [];\n  obj:BlogPostModel[];\n  \n  constructor(private db: AngularFireDatabase,private afAuth: AngularFireAuth) { \n   \n    this.db.list<BlogPostModel>('/BlogsList').valueChanges().subscribe(data=>{\n      this.obj=data;\n    });\n    \n    \n  }\n \n    \n  \n  GetBlogList(){\n    \n    this.blogsList=this.obj\n    return this.blogsList;\n\n  }\n  GetBlogPost(index){\n    this.blogsList=this.obj;\n    return this.blogsList[index];\n  }\n  // async googleSignIn() {\n  //   const provider = new firebase.auth.GoogleAuthProvider();\n  //   try {\n  //     const result = await this.afAuth.signInWithPopup(provider);\n  //     return result;\n  //   } catch (error) {\n  //     console.error(error);\n  //   }\n  // }\n  async googleSignIn() {\n    const provider = new GoogleAuthProvider();\n    try {\n      const result = await signInWithPopup(getAuth(), provider);\n      // Use result.user here\n      return result;\n    } catch (error) {\n      console.error(error);\n      // Handle errors here\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}