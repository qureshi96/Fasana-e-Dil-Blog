{"ast":null,"code":"import { snapshotChanges } from './snapshot-changes';\nimport { stateChanges } from './state-changes';\nimport { auditTrail } from './audit-trail';\nimport { createDataOperationMethod } from './data-operation';\nimport { createRemoveMethod } from './remove';\nimport { map } from 'rxjs/operators';\nexport function createListReference(query, afDatabase) {\n  const outsideAngularScheduler = afDatabase.schedulers.outsideAngular;\n  return {\n    query,\n    update: createDataOperationMethod(query.ref, 'update'),\n    set: createDataOperationMethod(query.ref, 'set'),\n    push: data => query.ref.push(data),\n    remove: createRemoveMethod(query.ref),\n\n    snapshotChanges(events) {\n      return snapshotChanges(query, events, outsideAngularScheduler).pipe(afDatabase.keepUnstableUntilFirst);\n    },\n\n    stateChanges(events) {\n      return stateChanges(query, events, outsideAngularScheduler).pipe(afDatabase.keepUnstableUntilFirst);\n    },\n\n    auditTrail(events) {\n      return auditTrail(query, events, outsideAngularScheduler).pipe(afDatabase.keepUnstableUntilFirst);\n    },\n\n    valueChanges(events) {\n      const snapshotChanges$ = snapshotChanges(query, events, outsideAngularScheduler);\n      return snapshotChanges$.pipe(afDatabase.keepUnstableUntilFirst, map(actions => actions.map(a => a.payload.val())));\n    }\n\n  };\n}","map":{"version":3,"names":["snapshotChanges","stateChanges","auditTrail","createDataOperationMethod","createRemoveMethod","map","createListReference","query","afDatabase","outsideAngularScheduler","schedulers","outsideAngular","update","ref","set","push","data","remove","events","pipe","keepUnstableUntilFirst","valueChanges","snapshotChanges$","actions","a","payload","val"],"sources":["/Users/usman/Documents/GitHub/Fasana-e-Dil-Blog/node_modules/angularfire2/node_modules/@angular/fire/__ivy_ngcc__/database/es2015/list/create-reference.js"],"sourcesContent":["import { snapshotChanges } from './snapshot-changes';\nimport { stateChanges } from './state-changes';\nimport { auditTrail } from './audit-trail';\nimport { createDataOperationMethod } from './data-operation';\nimport { createRemoveMethod } from './remove';\nimport { map } from 'rxjs/operators';\nexport function createListReference(query, afDatabase) {\n    const outsideAngularScheduler = afDatabase.schedulers.outsideAngular;\n    return {\n        query,\n        update: createDataOperationMethod(query.ref, 'update'),\n        set: createDataOperationMethod(query.ref, 'set'),\n        push: (data) => query.ref.push(data),\n        remove: createRemoveMethod(query.ref),\n        snapshotChanges(events) {\n            return snapshotChanges(query, events, outsideAngularScheduler).pipe(afDatabase.keepUnstableUntilFirst);\n        },\n        stateChanges(events) {\n            return stateChanges(query, events, outsideAngularScheduler).pipe(afDatabase.keepUnstableUntilFirst);\n        },\n        auditTrail(events) {\n            return auditTrail(query, events, outsideAngularScheduler).pipe(afDatabase.keepUnstableUntilFirst);\n        },\n        valueChanges(events) {\n            const snapshotChanges$ = snapshotChanges(query, events, outsideAngularScheduler);\n            return snapshotChanges$.pipe(afDatabase.keepUnstableUntilFirst, map(actions => actions.map(a => a.payload.val())));\n        }\n    };\n}\n"],"mappings":"AAAA,SAASA,eAAT,QAAgC,oBAAhC;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,yBAAT,QAA0C,kBAA1C;AACA,SAASC,kBAAT,QAAmC,UAAnC;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,OAAO,SAASC,mBAAT,CAA6BC,KAA7B,EAAoCC,UAApC,EAAgD;EACnD,MAAMC,uBAAuB,GAAGD,UAAU,CAACE,UAAX,CAAsBC,cAAtD;EACA,OAAO;IACHJ,KADG;IAEHK,MAAM,EAAET,yBAAyB,CAACI,KAAK,CAACM,GAAP,EAAY,QAAZ,CAF9B;IAGHC,GAAG,EAAEX,yBAAyB,CAACI,KAAK,CAACM,GAAP,EAAY,KAAZ,CAH3B;IAIHE,IAAI,EAAGC,IAAD,IAAUT,KAAK,CAACM,GAAN,CAAUE,IAAV,CAAeC,IAAf,CAJb;IAKHC,MAAM,EAAEb,kBAAkB,CAACG,KAAK,CAACM,GAAP,CALvB;;IAMHb,eAAe,CAACkB,MAAD,EAAS;MACpB,OAAOlB,eAAe,CAACO,KAAD,EAAQW,MAAR,EAAgBT,uBAAhB,CAAf,CAAwDU,IAAxD,CAA6DX,UAAU,CAACY,sBAAxE,CAAP;IACH,CARE;;IASHnB,YAAY,CAACiB,MAAD,EAAS;MACjB,OAAOjB,YAAY,CAACM,KAAD,EAAQW,MAAR,EAAgBT,uBAAhB,CAAZ,CAAqDU,IAArD,CAA0DX,UAAU,CAACY,sBAArE,CAAP;IACH,CAXE;;IAYHlB,UAAU,CAACgB,MAAD,EAAS;MACf,OAAOhB,UAAU,CAACK,KAAD,EAAQW,MAAR,EAAgBT,uBAAhB,CAAV,CAAmDU,IAAnD,CAAwDX,UAAU,CAACY,sBAAnE,CAAP;IACH,CAdE;;IAeHC,YAAY,CAACH,MAAD,EAAS;MACjB,MAAMI,gBAAgB,GAAGtB,eAAe,CAACO,KAAD,EAAQW,MAAR,EAAgBT,uBAAhB,CAAxC;MACA,OAAOa,gBAAgB,CAACH,IAAjB,CAAsBX,UAAU,CAACY,sBAAjC,EAAyDf,GAAG,CAACkB,OAAO,IAAIA,OAAO,CAAClB,GAAR,CAAYmB,CAAC,IAAIA,CAAC,CAACC,OAAF,CAAUC,GAAV,EAAjB,CAAZ,CAA5D,CAAP;IACH;;EAlBE,CAAP;AAoBH"},"metadata":{},"sourceType":"module"}