{"ast":null,"code":"import _asyncToGenerator from \"/Users/usman/Documents/GitHub/Fasana-e-Dil-Blog/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { AngularFireDatabase } from '@angular/fire/compat/database';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/fire/compat/database\";\nimport * as i2 from \"@angular/fire/compat/auth\";\nexport class BlogListService {\n  constructor(db, auth) {\n    this.db = db;\n    this.auth = auth;\n    this.blogsList = [];\n    this.db.list('/BlogsList').valueChanges().subscribe(data => {\n      this.obj = data;\n    });\n  }\n\n  GetBlogList() {\n    this.blogsList = this.obj;\n    return this.blogsList;\n  }\n\n  GetBlogPost(index) {\n    this.blogsList = this.obj;\n    return this.blogsList[index];\n  }\n\n  signInWithGoogle() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        const provider = new firebase.auth.GoogleAuthProvider();\n        const userCredential = yield _this.auth.signInWithPopup(provider);\n        console.log(userCredential.user);\n      } catch (error) {\n        console.error(error);\n      }\n    })();\n  }\n\n}\n\nBlogListService.ɵfac = function BlogListService_Factory(t) {\n  return new (t || BlogListService)(i0.ɵɵinject(i1.AngularFireDatabase), i0.ɵɵinject(i2.AngularFireAuth));\n};\n\nBlogListService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: BlogListService,\n  factory: BlogListService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":";AAMA,SAASA,mBAAT,QAAwE,+BAAxE;;;;AASA,OAAM,MAAOC,eAAP,CAAsB;EAK1BC,YAAoBC,EAApB,EAAoDC,IAApD,EAAyE;IAArD;IAAgC;IAHpD,iBAA6B,EAA7B;IAKE,KAAKD,EAAL,CAAQE,IAAR,CAA4B,YAA5B,EAA0CC,YAA1C,GAAyDC,SAAzD,CAAmEC,IAAI,IAAE;MACvE,KAAKC,GAAL,GAASD,IAAT;IACD,CAFD;EAKD;;EAIDE,WAAW;IAET,KAAKC,SAAL,GAAe,KAAKF,GAApB;IACA,OAAO,KAAKE,SAAZ;EAED;;EACDC,WAAW,CAACC,KAAD,EAAM;IACf,KAAKF,SAAL,GAAe,KAAKF,GAApB;IACA,OAAO,KAAKE,SAAL,CAAeE,KAAf,CAAP;EACD;;EACKC,gBAAgB;IAAA;;IAAA;MACpB,IAAI;QACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAACZ,IAAT,CAAca,kBAAlB,EAAjB;QACA,MAAMC,cAAc,SAAS,KAAI,CAACd,IAAL,CAAUe,eAAV,CAA0BJ,QAA1B,CAA7B;QACAK,OAAO,CAACC,GAAR,CAAYH,cAAc,CAACI,IAA3B;MACD,CAJD,CAIE,OAAOC,KAAP,EAAc;QACdH,OAAO,CAACG,KAAR,CAAcA,KAAd;MACD;IAPmB;EAQrB;;AAlCyB;;;mBAAftB,iBAAeuB;AAAA;;;SAAfvB;EAAewB,SAAfxB,eAAe;EAAAyB,YAFd","names":["AngularFireDatabase","BlogListService","constructor","db","auth","list","valueChanges","subscribe","data","obj","GetBlogList","blogsList","GetBlogPost","index","signInWithGoogle","provider","firebase","GoogleAuthProvider","userCredential","signInWithPopup","console","log","user","error","i0","factory","providedIn"],"sourceRoot":"","sources":["/Users/usman/Documents/GitHub/Fasana-e-Dil-Blog/src/app/blog-list.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { BlogPostModel } from './data/blogPostModel';\n\nimport { environment } from 'src/environments/environment';\n\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase, AngularFireList, AngularFireObject } from '@angular/fire/compat/database';\nimport { AngularFireAuth } from '@angular/fire/compat/auth';\n\n\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BlogListService {\n \n  blogsList : BlogPostModel[]= [];\n  obj:BlogPostModel[];\n  \n  constructor(private db: AngularFireDatabase,private auth: AngularFireAuth) { \n   \n    this.db.list<BlogPostModel>('/BlogsList').valueChanges().subscribe(data=>{\n      this.obj=data;\n    });\n\n    \n  }\n \n    \n  \n  GetBlogList(){\n    \n    this.blogsList=this.obj\n    return this.blogsList;\n\n  }\n  GetBlogPost(index){\n    this.blogsList=this.obj;\n    return this.blogsList[index];\n  }\n  async signInWithGoogle() {\n    try {\n      const provider = new firebase.auth.GoogleAuthProvider();\n      const userCredential = await this.auth.signInWithPopup(provider);\n      console.log(userCredential.user);\n    } catch (error) {\n      console.error(error);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}